/*
 * Copyright (C) 2009-2022 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/model/json/JSONModel","sap/fin/travel/lib/reuse/util/i18n","sap/fin/travel/lib/reuse/util/FragmentHelper"],function(J,I,F){"use strict";var s="SubmitDisclaimerDialogFragment";function S(e,c){if(c.oSubmitDisclaimerFragment){c.oSubmitDisclaimerFragment.unbindElement();c.oSubmitDisclaimerFragment.close();}}function f(e,c){var E=function(){S(e,c);};var b=function(){S(e,c);};c._eventHandler.handleSubmitAction(e,b,E);}function a(e,c){sap.ui.core.Fragment.byId(s,"SubmitButton").setEnabled(e.getParameter("selected"));}function v(e,c){var A=function(){sap.ui.core.Fragment.byId(s,"CancelButton").attachPress(c,S);sap.ui.core.Fragment.byId(s,"SubmitButton").attachPress(c,f);sap.ui.core.Fragment.byId(s,"SubmitCheckbox").attachSelect(c,a);c.oSubmitDisclaimerFragment.setModel(c.getView().getModel());};var o=function(){c.oSubmitDisclaimerFragment.bindElement(e.getSource().getBindingContext().getPath());c.oSubmitDisclaimerFragment.setModel(new J({submitText:e.getSource().getBindingContext().getObject().SubmitText.length>0?e.getSource().getBindingContext().getObject().SubmitText:I.get().getText(c,"EXPENSE_SUBMIT_DISCLAIMER")}),"submitDisclaimerModel");c.oSubmitDisclaimerFragment.open();};if(F.get().loadFragment&&typeof F.get().loadFragment==="function"){F.get().loadFragment({id:s,name:"fin.travel.mytravelexpensesv2.view.fragments.SubmitDisclaimerDialog",controller:c,models:{i18n:c.getView().getModel("i18n")}}).then(function(b){if(b){if(!c.oSubmitDisclaimerFragment){c.oSubmitDisclaimerFragment=b;A();}o();}});}else{if(!c.oSubmitDisclaimerFragment){c.oSubmitDisclaimerFragment=F.get().getFragment({id:s,name:"fin.travel.mytravelexpensesv2.view.fragments.SubmitDisclaimerDialog",controller:c,models:{i18n:c.getView().getModel("i18n")}});A();}o();}}return{viewSubmitDisclaimer:v};});
